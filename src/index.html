<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Kyam Launcher v1.0.0</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="title-bar">
        <div class="title-drag-area">
            <span class="app-title" data-i18n="app_title">KYAMTALE LAUNCHER</span>
        </div>

        <div class="user-section-header">
            <div class="input-container-header">
                <i class="fas fa-user input-icon-header"></i>
                <input type="text" id="username" placeholder="Player" data-i18n-placeholder="placeholder_username"
                    autocomplete="off" spellcheck="false" class="header-input">
                <button id="confirmNameBtn" class="confirm-name-btn header-confirm" title="Confirmar nome">
                    <i class="fas fa-check"></i>
                </button>
            </div>
        </div>

        <div class="window-controls">
            <div class="language-selector">
                <select id="langSelect" class="lang-dropdown" title="Idioma">
                    <option value="en">üá∫üá∏ EN</option>
                    <option value="es">üá™üá∏ ES</option>
                    <option value="pt">üáßüá∑ PT</option>
                    <option value="de">üá©üá™ DE</option>
                    <option value="fr">üá´üá∑ FR</option>
                    <option value="zh">üá®üá≥ ZH</option>
                    <option value="ru">üá∑üá∫ RU</option>
                    <option value="ja">üáØüáµ JA</option>
                </select>
            </div>
            <button id="modsBtn" class="control-btn" title="Mods"><i class="fas fa-puzzle-piece"></i></button>
            <button id="settingsBtn" class="control-btn" title="Configura√ß√£o"><i class="fas fa-cog"></i></button>
            <button id="minBtn" class="control-btn" title="Minimizar"><i class="fas fa-minus"></i></button>
            <button id="closeBtn" class="control-btn close" title="Cerrar"><i class="fas fa-times"></i></button>
        </div>
    </div>

    <div id="settingsModal" class="settings-overlay">
        <div class="settings-container">
            <!-- Header -->
            <div class="settings-header">
                <h2 class="settings-title" data-i18n="settings_title">Configura√ß√µes</h2>
                <button class="settings-close-btn" id="closeSettingsBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Tabs -->
            <div class="settings-tabs">
                <button class="settings-tab active" data-tab="general" data-i18n="settings_tab_general">Geral</button>
                <button class="settings-tab" data-tab="java" data-i18n="settings_tab_java">Java</button>
            </div>

            <!-- Content -->
            <div class="settings-content">
                <!-- Tab Geral -->
                <div id="settings-general" class="settings-page active">
                    <!-- Player Name -->
                    <div class="settings-group">
                        <div class="settings-item">
                            <div class="settings-item-icon">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="settings-item-content">
                                <span class="settings-item-label" data-i18n="player_name">Nome do Jogador</span>
                                <span class="settings-item-desc" data-i18n="player_name_desc">Este nome ser√° usado no
                                    jogo (1-16 caracteres)</span>
                            </div>
                            <input type="text" id="settingsPlayerName" class="settings-input" maxlength="16">
                        </div>
                    </div>

                    <!-- Actions -->
                    <div class="settings-group">
                        <div class="settings-item clickable" id="openLocationBtn">
                            <div class="settings-item-icon">
                                <i class="fas fa-folder-open"></i>
                            </div>
                            <div class="settings-item-content">
                                <span class="settings-item-label" data-i18n="btn_open_location">Abrir Pasta do
                                    Jogo</span>
                                <span class="settings-item-desc" data-i18n="open_location_desc">Abrir a pasta de
                                    instala√ß√£o do jogo</span>
                            </div>
                            <div class="settings-item-action">
                                <i class="fas fa-external-link-alt"></i>
                            </div>
                        </div>

                        <div class="settings-item clickable" id="repairGameBtn">
                            <div class="settings-item-icon">
                                <i class="fas fa-tools"></i>
                            </div>
                            <div class="settings-item-content">
                                <span class="settings-item-label" data-i18n="setting_repair">Reparar Jogo</span>
                                <span class="settings-item-desc" data-i18n="repair_desc">Reinstalar arquivos do
                                    jogo</span>
                            </div>
                            <div class="settings-item-action">
                                <i class="fas fa-sync"></i>
                            </div>
                        </div>
                    </div>

                    <!-- GPU Selection -->
                    <div class="settings-group">
                        <div class="settings-item">
                            <div class="settings-item-icon">
                                <i class="fas fa-microchip"></i>
                            </div>
                            <div class="settings-item-content">
                                <span class="settings-item-label" data-i18n="setting_gpu">Prefer√™ncia de GPU</span>
                            </div>
                            <div class="settings-gpu-buttons">
                                <button class="gpu-btn active" data-val="auto">AUTO</button>
                                <button class="gpu-btn" data-val="integrated">INTEGRATED</button>
                                <button class="gpu-btn" data-val="dedicated">DEDICATED</button>
                            </div>
                        </div>
                    </div>

                    <!-- Hide Launcher Toggle -->
                    <div class="settings-group">
                        <div class="settings-item">
                            <div class="settings-item-icon">
                                <i class="fas fa-eye-slash"></i>
                            </div>
                            <div class="settings-item-content">
                                <span class="settings-item-label" data-i18n="setting_hide_launcher">Ocultar Launcher ao
                                    jogar</span>
                            </div>
                            <label class="settings-toggle">
                                <input type="checkbox" id="hideLauncherCheck">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Tab Java -->
                <div id="settings-java" class="settings-page">
                    <div class="settings-group">
                        <div class="settings-item">
                            <div class="settings-item-icon">
                                <i class="fas fa-coffee"></i>
                            </div>
                            <div class="settings-item-content">
                                <span class="settings-item-label" data-i18n="java_custom_use">Usar Java
                                    Personalizado</span>
                                <span class="settings-item-desc" data-i18n="java_custom_desc">Sobrescrever o Java
                                    inclu√≠do com a sua pr√≥pria instala√ß√£o</span>
                            </div>
                            <label class="settings-toggle">
                                <input type="checkbox" id="useCustomJavaCheck">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>

                    <div id="customJavaArea" class="settings-group java-path-group disabled">
                        <div class="settings-item">
                            <div class="settings-item-content" style="flex: 1;">
                                <span class="settings-item-label" data-i18n="java_path_label">Caminho do Java</span>
                                <div class="java-path-input">
                                    <input type="text" id="javaPathInput" class="settings-input"
                                        placeholder="Selecione o caminho do Java...">
                                    <button id="browseJavaBtn" class="java-browse-btn"
                                        data-i18n="btn_browse">Procurar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="onboardingView" class="onboarding-overlay" style="display: none;">
        <div class="onboarding-content">
            <div class="onboarding-anim-wrapper">
                <i class="fas fa-rocket onboarding-icon"></i>
            </div>

            <div id="onboardingStep1" class="onboarding-slide active">
                <h1 data-i18n="welcome_title" class="fade-in-up">Bem Vindo ao KyamTale</h1>
                <p data-i18n="welcome_subtitle" class="fade-in-up delay-1">Sua aventura come√ßa aqui</p>

                <div class="onboarding-step step-lang fade-in-up delay-2">
                    <div class="lang-cards">
                        <div class="lang-card" data-lang="en">
                            <span class="flag">üá∫üá∏</span>
                            <span>English</span>
                        </div>
                        <div class="lang-card" data-lang="es">
                            <span class="flag">üá™üá∏</span>
                            <span>Espa√±ol</span>
                        </div>
                        <div class="lang-card" data-lang="zh">
                            <span class="flag">üá®üá≥</span>
                            <span>‰∏≠Êñá</span>
                        </div>
                        <div class="lang-card" data-lang="de">
                            <span class="flag">üá©üá™</span>
                            <span>Deutsch</span>
                        </div>
                        <div class="lang-card" data-lang="fr">
                            <span class="flag">üá´üá∑</span>
                            <span>Fran√ßais</span>
                        </div>
                        <div class="lang-card" data-lang="pt">
                            <span class="flag">üáßüá∑</span>
                            <span>Portugu√™s</span>
                        </div>
                        <div class="lang-card" data-lang="ru">
                            <span class="flag">üá∑üá∫</span>
                            <span>–†—É—Å—Å–∫–∏–π</span>
                        </div>
                        <div class="lang-card" data-lang="ja">
                            <span class="flag">üáØüáµ</span>
                            <span>Êó•Êú¨Ë™û</span>
                        </div>
                    </div>
                </div>
                <button class="onboarding-btn next-step-btn fade-in-up delay-3" data-next="onboardingStep2"
                    data-i18n="btn_next">Next</button>
            </div>

            <div id="onboardingStep2" class="onboarding-slide" style="display: none;">
                <h2 data-i18n="onboarding_username_label">Choose your username</h2>
                <div class="onboarding-step step-user">
                    <input type="text" id="onboardingUser" class="onboarding-input" spellcheck="false"
                        placeholder="Player" data-i18n-placeholder="placeholder_player">
                </div>
                <div class="step-nav">
                    <button id="btnToStep3" class="onboarding-btn next-step-btn" disabled data-next="onboardingStep3"
                        data-i18n="btn_next">Next</button>
                </div>
            </div>

            <div id="onboardingStep3" class="onboarding-slide" style="display: none;">
                <h2 data-i18n="onboarding_terms_title">Terms and Conditions</h2>
                <div class="onboarding-step step-terms">
                    <label class="terms-label">
                        <input type="checkbox" id="termsCheck">
                        <span>
                            <span data-i18n="onboarding_terms">I accept the </span>
                            <a href="#" class="legal-link" data-url="https://battlylauncher.com/terminos"
                                data-i18n="onboarding_terms_link">Terms</a>
                            <span data-i18n="onboarding_and"> and </span>
                            <a href="#" class="legal-link" data-url="https://battlylauncher.com/politica-privacidad"
                                data-i18n="onboarding_privacy_link">Privacy Policy</a>
                        </span>
                    </label>
                </div>
                <div class="step-nav">
                    <button class="onboarding-btn secondary back-step-btn" data-prev="onboardingStep2"
                        data-i18n="btn_back">Back</button>
                    <button id="startBtn" class="onboarding-btn" disabled data-i18n="btn_get_started">Get
                        Started</button>
                </div>
            </div>
        </div>
    </div>

    <div class="content-area">
        <div id="homeView" class="view active">
            <!-- Hero Full-Bleed: Ocupa toda a √°rea -->
            <div class="hero-fullbleed" id="heroSection">
                <div class="hero-bg" id="heroImage"></div>
                <div class="hero-gradient"></div>

                <!-- Logo e info no hero -->
                <div class="hero-main-content">
                    <div class="hero-branding">
                        <h1 class="hero-logo">HYTALE</h1>
                        <p class="hero-tagline" id="heroDescription">Sua aventura come√ßa aqui</p>
                    </div>

                    <div class="hero-featured">
                        <!-- <span class="featured-label">EM DESTAQUE</span> -->
                        <h2 class="featured-title" id="heroTitle">Carregando...</h2>
                        <div class="featured-actions">
                            <button class="action-pill" id="heroReadMore">
                                <i class="fas fa-external-link-alt"></i>
                                <span data-i18n="btn_read_more">VER MAIS</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Progress dots no lado direito -->
                <div class="hero-nav">
                    <div class="nav-dots" id="navDots"></div>
                </div>

                <!-- Activity Log / Hist√≥rico de Sess√£o -->
                <div id="activityLog" class="activity-log-container">
                    <!-- Itens ser√£o adicionados via JS -->
                </div>

                <!-- Bot√£o Jogar movido para o Hero -->
                <div class="hero-play-container">
                    <div class="hero-channel-bar">
                        <div class="channel-info">
                            <span class="channel-label" data-i18n="home_channel_label">Canal</span>
                            <select id="homeGameChannel" class="home-channel-select">
                                <option value="latest" data-i18n="game_channel_legacy">Legacy</option>
                                <option value="beta" data-i18n="game_channel_current">Current</option>
                            </select>
                        </div>
                        <div class="channel-version">
                            <span class="channel-version-label" data-i18n="home_version_label">Vers√£o</span>
                            <span id="homeGameVersion" class="channel-version-value">-</span>
                        </div>
                    </div>
                    <button id="playBtn" class="bar-btn primary large-play-btn" data-i18n="play_btn">JOGAR</button>
                </div>
            </div>

            <!-- News Cards na parte inferior - fora do hero -->
            <div class="news-section">
                <span class="section-title" data-i18n="news_section_title">MAIS NOT√çCIAS</span>
                <div class="news-cards" id="newsCarousel">
                    <div class="loader-container">
                        <i class="fas fa-circle-notch fa-spin"></i>
                    </div>
                </div>
            </div>
        </div>

        <div id="modsView" class="view" style="display: none;">
            <div class="mods-container">
                <div class="mods-header">
                    <h2 data-i18n="mods_btn">Gestor de Mods</h2>
                    <div class="mods-tabs">
                        <button id="tabDiscover" class="tab-btn active" data-i18n="tabs_discover">Descubrir</button>
                        <button id="tabInstalled" class="tab-btn" data-i18n="tabs_installed">Instalados</button>
                    </div>
                </div>

                <div id="discoverSection" class="mods-section active">
                    <div class="search-bar">
                        <input type="text" id="modSearchInput" placeholder="Buscar mods..."
                            data-i18n-placeholder="search_placeholder">
                        <button id="searchModsBtn"><i class="fas fa-search"></i></button>
                    </div>
                    <div id="modsList" class="mods-grid">
                        <div class="loading-spinner"><i class="fas fa-spinner fa-spin"></i> Loading...</div>
                    </div>
                </div>

                <div id="installedSection" class="mods-section" style="display: none;">
                    <div id="installedList" class="installed-list">
                    </div>
                </div>
            </div>
        </div>

        <!-- Activity Log movido para dentro do Hero -->
    </div>

    <!-- Bottom Bar antiga removida/esvaziada -->
    <div class="bottom-bar" style="display: none;"></div>

    <!-- Barra de Progresso na Borda Inferior -->
    <div id="progressContainer" class="progress-bar-edge-container" style="display: none;">
        <div id="progressBar" class="progress-bar-edge"></div>
    </div>

    <div id="modModal" class="modal-overlay">
        <div class="modal-content mod-detail-modal">
            <button class="modal-close-btn" id="closeModalBtn">&times;</button>

            <!-- Header compacto -->
            <div class="mod-detail-header">
                <img id="modalModImage" src="" alt="Mod Logo" class="mod-detail-logo">
                <div class="mod-detail-info">
                    <h2 id="modalModName">Mod Name</h2>
                    <p class="mod-detail-author" id="modalModAuthor">by Author</p>
                    <div class="mod-detail-badges">
                        <span class="mod-badge" id="modalModVersion">v1.0.0</span>
                        <span class="mod-badge downloads"><i class="fas fa-download"></i> <span
                                id="modalModDownloads">10k</span></span>
                        <span class="mod-badge" id="modalModDate">12/12/2024</span>
                    </div>
                </div>
            </div>

            <!-- Descri√ß√£o com scroll -->
            <div class="mod-detail-description">
                <h4 data-i18n="modal_about">About this mod</h4>
                <div class="mod-detail-content" id="modalModDescription">...</div>
            </div>

            <!-- Footer com a√ß√£o -->
            <div class="mod-detail-footer">
                <button id="modalInstallBtn" class="action-btn primary-btn" data-i18n="modal_install">Install
                    Now</button>
            </div>
        </div>
    </div>

    <!-- CORRIGIDO: customDialog agora est√° FORA do modModal -->
    <div id="customDialog" class="modal-overlay custom-dialog-overlay">
        <div class="modal-content small-modal">
            <h2 id="dialogTitle">Title</h2>
            <p id="dialogMessage">Message</p>
            <div class="dialog-actions">
                <button id="dialogCancelBtn" class="action-btn secondary-btn" data-i18n="btn_cancel">Cancel</button>
                <button id="dialogConfirmBtn" class="action-btn primary-btn" data-i18n="btn_confirm">Confirm</button>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>

</html>